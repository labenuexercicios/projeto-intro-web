!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={EVENT_GETSEGMENTS:"SEGMENTS_CALLED",EVENT_GETSEGMENTS_MISSES:"SEGMENTS_MISS",EVENT_USED_FALLBACK:"FALLBACK_USED",EVENT_CONTENT_SEGMENTS:"CONTENT_USED",EVENT_CONTENT_SEGMENTS_MISSES:"CONTENT_MISS",EVENTS:{DMP_ID_MISS:"DMP_ID_MISS",DMP_SEGMENTS_MISS:"DMP_SEGMENTS_MISS",PLNT_SEGMENTS_MISS:"PLNT_SEGMENTS_MISS",PLNT_SEGMENTS_IDLE:"PLNT_SEGMENTS_IDLE",NVG_SEGMENTS_MISS:"NVG_SEGMENTS_MISS",NVG_SEGMENTS_IDLE:"NVG_SEGMENTS_IDLE",CK_SEGMENTS_MISS:"CK_SEGMENTS_MISS",CK_SEGMENTS_IDLE:"CK_SEGMENTS_IDLE",GET_SEGMENTS_MISS:"GET_SEGMENTS_MISS"},GLOBOAB_CDN:"//s3.glbimg.com/v1/AUTH_da787d4f4e8d46e3ad76d5fa568fe786/globo-ab/globo-ab-v2.min.js",GLOBOAB_SERVER:"https://globo-ab.globo.com/",PLANETEERS_SEGMENTS_KEY:"planeteers_segments",PLANETEERS_KRUX_SEGMENTS_KEY:"planeteers_krux_segments",PLANETEERS_EXECUTION:"planeteers_execution",PLANETEERS_EXECUTION_STATUS:"planeteers_execution_status",PLANETEERS_EXECUTION_SEGMENT:"plntalfa",PLANETEERS_FALLBACK_NVG_SEGMENTS_KEY:"planeteers_fallback_nvg_segments",PLANETEERS_FALLBACK_CK_SEGMENTS_KEY:"planeteers_fallback_ck_segments",KRUX_SEGMENTS_KEY:"kxglobo_allsegs",KRUX_SEGMENTS_COOKIE:"kxglobo_segs",KRUX_ID_KEY:"kxglobo_user",ANALYSIS_INDEX:"29",ANALYSIS_INDEX_V2:"5",SEGMENT_SOURCES_MARKERS:{PLNT_EXECUTION:"plntalfa",PLNT:"plntbeta",CK:"plntck",NVG:"plntnvg"}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="on",r="off",o="v1",i=t.settings={constants:{ON:n,OFF:r,V1:o,V2:"v2"},none:{version:o,rollout:r,fallback:r,ck:r,ab:r,ab_analysis:n,analysis_rollout:0,cache_update_rollout:0},"gshow.globo.com":{version:"v2",rollout:n,fallback:n,ck:n,ab:r,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"g1.globo.com":{version:o,rollout:n,fallback:n,ck:n,ab:r,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"globoesporte.globo.com":{version:o,rollout:n,fallback:n,ck:n,ab:r,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"ge.globo.com":{version:o,rollout:n,fallback:n,ck:n,ab:r,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"globoplay.globo.com":{version:"v2",rollout:n,fallback:n,ck:r,ab:r,ab_analysis:r,analysis_rollout:5,cache_update_rollout:5},"www.globo.com":{version:"v2",rollout:n,fallback:r,ck:r,ab:r,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},_getHost:function(){return window.location.host},_getByHost:function(e){return i[e]?i[e]:i.none},isOn:function(e){return i._getByHost(i._getHost())[e]===i.constants.ON},isOff:function(e){return i._getByHost(i._getHost())[e]===i.constants.OFF},version:function(){return i._getByHost(i._getHost()).version},analysisRollout:function(){return i._getByHost(i._getHost()).analysis_rollout},cacheUpdateRollout:function(){return i._getByHost(i._getHost()).cache_update_rollout}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(window.cdaaas&&window.cdaaas.SETTINGS)return window.cdaaas.SETTINGS[e]},r=function(e){if(window.utag_data)return window.utag_data[e]};t.getTenant=function(){return n("SITE_ID")||r("ut.profile")||"globocom"},t.getDeviceGroup=function(){return n("MOBILE_GROUP")||r("platform")||"desktop"}},function(e,t,n){var r=n(21),o=n(22);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var i={AVOID_COOKIE_USAGE:!1,EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_SENDER_MIN_INTERVAL:5e3,EVENTS_SENDER_MAX_INTERVAL:2e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_TRACK_IDENTIFICATION_RESOURCE:"id",HORIZON_TRACK_HOST:"horizon-track.globo.com",HORIZON_CLIENT_UUID:o(n(2)).default.getResource("clientInstanceUUID",(0,r.default)()),HORIZON_REQUEST_ENCODING:"base64",HORIZON_SCHEMAS_HOST:"horizon-schemas.globo.com",IDENTIFICATION_LOAD_RETRY_AFTER_MSECS:5e3,PACKAGE_VERSION:"1.10.1",SCHEMA_VALIDATOR_SCRIPT_URL:"s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,USE_HTTPS:!0},a={avoidCookieUsage:function(){i.AVOID_COOKIE_USAGE=!0},useHTTPOnly:function(){i.USE_HTTPS=!1},useQAConfiguration:function(){i.HORIZON_TRACK_HOST="horizon-track.qa.globoi.com",i.HORIZON_SCHEMAS_HOST="horizon-schemas.qa.globoi.com",i.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(i,a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resource.",INVALID_AUTH_TOKEN:"[Horizon] Invalid authorization token.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_STRING_NUMERIC_STRING:"[Horizon] numericString should be string.",INVALID_EMPTY_NUMERIC_STRING:"[Horizon] numericString should be empty.",INVALID_NUMERIC_STRING:"[Horizon] Invalid number. Field with NumericString must to be number.",INVALID_ENVIRONMENT:"[Horizon] Invalid environment value.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",INVALID_RELATION_ID:"[Horizon] Invalid relation identification.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE:"[Horizon] Can not set or remove a logged user when AVOID_COOKIE_USAGE is not enabled."},o={mustBeDefined:function(e){throw new Error(r.MUST_BE_DEFINED+": "+e+".")}};t.default=Object.assign(r,o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return window.horizonResources=window.horizonResources||{},window.horizonResources};t.default={getContext:r,getResource:function(e,t){var n=r();return n[e]=n[e]||t,n[e]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={execAsync:function(e,t){setTimeout(function(){return e(t)},1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,r){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){return o.status<400?n(JSON.parse(o.response)):r(o.response)},o.onerror=r,o.send()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(3)),i=l(n(2)),a=l(n(1)),u=l(n(4)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){return i.default.getResource("idManager",{loggedIDs:null,anonymousIDs:null,sessionIDs:null})},f=["GLBID","GST"],d={STATE_READY:"statusReady",STATE_NOT_READY:"statusNotReady",STATE_LOADING:"statusLoading",STATE_SCHEDULED:"statusScheduled",STATE_ERROR:"statusError"},E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=n?d.STATE_READY:d.STATE_NOT_READY,this.url=t,this.bypass=n,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return r(e,[{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===d.STATE_READY)return e(this.getClientIDs());if(this.callbacks.onReady.length>s.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(a.default.LIMIT_EXCEEDED+" IDManager callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===d.STATE_ERROR?e():this.callbacks.onError.push(e)}},{key:"getAsKeyValue",value:function(){if(!this.isReady())throw new Error(""+a.default.COMPONENT_NOT_READY);if(this.bypass)return"";var e=this.getClientIDs();return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},{key:"getClientIDs",value:function(){var e=c();return Object.assign(e.loggedIDs||{},e.anonymousIDs||{},e.sessionIDs||{})}},{key:"isReady",value:function(){return this.state===d.STATE_READY}},{key:"retry",value:function(){var e=this;this.state=d.STATE_SCHEDULED,this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=d.STATE_NOT_READY,e.load()},s.default.IDENTIFICATION_LOAD_RETRY_AFTER_MSECS)}},{key:"setLoggedUser",value:function(e,t){if(-1===f.indexOf(e))throw Error(a.default.INVALID_AUTH_TOKEN);var n=c();n.loggedIDs=Object.assign(n.loggedIDs||{},function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"setAnonymousUser",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=c();if(null==n.anonymousIDs||t){if(!("glb_uid"in e&&"glb_uid_public"in e))throw a.default.mustBeDefined("glb_uid and glb_uid_public");var r={glb_uid:e.glb_uid,glb_uid_public:e.glb_uid_public};n.anonymousIDs=Object.assign(n.anonymousIDs||{},r)}}},{key:"getAnonymousUser",value:function(){return c().anonymousIDs}},{key:"setSessionID",value:function(e){e.hsid&&(c().sessionIDs=Object.assign({},{hsid:e.hsid}))}},{key:"removeLoggedUser",value:function(){var e=c();f.forEach(function(t){e.loggedIDs[t]&&delete e.loggedIDs[t]})}},{key:"load",value:function(){var e=this;if(this.state===d.STATE_NOT_READY){this.state=d.STATE_LOADING,this.callbacks.onLoad.forEach(function(e){return e()});var t=s.default.USE_HTTPS?"https://":"http://";u.default.request("GET",""+t+this.url,function(t){e.setSessionID(t),e.setAnonymousUser(t,!1),e.state=d.STATE_READY,e.callbacks.onReady.forEach(function(t){return o.default.execAsync(t,e.getClientIDs())})},function(t){e.state=d.STATE_ERROR,e.callbacks.onError.forEach(function(e){return o.default.execAsync(e,t)}),e.retry()})}}}]),e}(),v=function(e){var t=c();if(!t.instance){var n=e||s.default.HORIZON_TRACK_HOST+"/"+s.default.HORIZON_TRACK_IDENTIFICATION_RESOURCE,r=!1===s.default.AVOID_COOKIE_USAGE;t.instance=new E(n,r)}return t.instance};t.default={getInstance:v,getContextManager:c,setLoggedUser:function(e,t){if(!s.default.AVOID_COOKIE_USAGE)throw Error(a.default.USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE);e&&0!==e.length||a.default.mustBeDefined("tokenName"),t&&0!==t.length||a.default.mustBeDefined("tokenValue"),v().setLoggedUser(e,t)},removeLoggedUser:function(){if(!s.default.AVOID_COOKIE_USAGE)throw Error(a.default.USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE);v().removeLoggedUser()},setAnonymousUser:function(e){v().setAnonymousUser(e)},getAnonymousUser:function(){return v().getAnonymousUser()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDManager=t.Settings=t.HorizonClient=void 0,n(7);var r=a(n(9)),o=a(n(0)),i=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var u={setLoggedUser:i.default.setLoggedUser,removeLoggedUser:i.default.removeLoggedUser,setAnonymousUser:i.default.setAnonymousUser,getAnonymousUser:i.default.getAnonymousUser};t.HorizonClient=r.default,t.Settings=o.default,t.IDManager=u},function(e,t,n){"use strict";n(8).polyfill()},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var s=i[a],l=Object.getOwnPropertyDescriptor(o,s);void 0!==l&&l.enumerable&&(n[s]=o[s])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(0)),a=d(n(13)),u=d(n(1)),s=d(n(15)),l=d(n(26)),c=d(n(27)),f=d(n(5));function d(e){return e&&e.__esModule?e:{default:e}}var E={READY:"stateReady",UNLOADED:"stateNotReady",LOADING:"stateLoading"},v=["web","instant-article","app"],p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"web";if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tenant=t||c.default.getTenant()||u.default.mustBeDefined("tenant"),this.deviceGroup=n||c.default.getDeviceGroup()||u.default.mustBeDefined("deviceGroup"),this.defaultContentType=o,-1===v.indexOf(d))throw Error(u.default.INVALID_ENVIRONMENT);this.environment=d,this.validator=a.default,this.clientVersion=i.default.PACKAGE_VERSION,this.state=E.UNLOADED,this.referer=document.referrer;var p=null,_=null,h=null;this.setSchemasProvider=function(e){p=e},this.getSchemasProvider=function(){if(!p){var e=l.default.getInstance();r.setSchemasProvider(e)}return p},this.setEventBus=function(e){_=e},this.getEventBus=function(){if(!_){var e=s.default.getInstance(r.tenant,r.deviceGroup,r.environment,r.getIdManager());r.setEventBus(e)}return _},this.setIdManager=function(e){h=e},this.getIdManager=function(){if(!h){var e=f.default.getInstance();r.setIdManager(e)}return h},this.isReady=function(){return!!p&&!!h&&r.validator.isReady()&&p.isReady()&&h.isReady()},window.addEventListener("beforeunload",function(){r.unload()})}return o(e,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"setReferer",value:function(e){this.referer=e||document.referrer}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(e){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion,horizonClientReferer:this.referer,horizonRelationId:e}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?this.getIdManager().isReady()?(this.state=E.READY,e()):(this.state=E.LOADING,this.getIdManager().onReady(e),this.getIdManager().load()):(this.state=E.LOADING,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=E.LOADING,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady(function(){return e.flush()})}},{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=n&&"string"!=typeof n)throw new Error(u.default.INVALID_RELATION_ID+" Wrong relationId type. It should be a String: actual type is "+(void 0===n?"undefined":r(n)));[].concat(e).forEach(function(e){t.validator.validateArgs(e),t.sendWithInfo(e,t.getScopeInfo(n))})}},{key:"sendWithInfo",value:function(e,t){var n=this;if(!this.isReady())return this.state===E.UNLOADED&&this.flush(),void this.onReady(function(){return n.sendWithInfo(e,t)});this.validateBeforeEnqueue(e);var r=Object.assign({},t,e);r.contentType||(this.defaultContentType||u.default.mustBeDefined("contentType"),r.contentType=this.defaultContentType),this.getEventBus().enqueue(r)}}]),e}();t.default=p},function(e,t,n){var r=n(11),o=n(12);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=u(n(14)),i=u(n(1)),a=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var s={ready:[]},l=["url"],c=function(){return!!window.tv4},f=function(e){return null===e?null:isNaN(e)&&!isNaN(Date.parse(e))?null:i.default.INVALID_DATE},d=function(e){return"string"!=typeof e?i.default.INVALID_STRING_NUMERIC_STRING:""===e.trim()?i.default.INVALID_EMPTY_NUMERIC_STRING:Number.isFinite(Number(e))?null:i.default.INVALID_NUMERIC_STRING};t.default={validateFor:function(e,t){if(!c())throw new Error(i.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(i.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(i.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(i.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(e){var t=Object.prototype.hasOwnProperty;if(!(e&&t.call(e,"id")&&t.call(e,"version")&&t.call(e,"properties")))throw new Error(i.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(e));if("string"!=typeof e.id||"string"!=typeof e.version||"object"!==r(e.properties))throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(l.filter(function(t){return e[t]&&"string"!=typeof e[t]}).length>0)throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(e.id.length<2||e.version.length<3)throw new Error(i.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(e));var n=Object.assign({},e);delete n.id,delete n.version,delete n.properties,delete n.contentType;var o=Object.keys(n);if(o.length>0&&!o.every(function(e){return-1!==l.indexOf(e)}))throw new Error(i.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:f,tv4IsNumericString:d,isReady:c,onReady:function(e){if(c())return e();if(s.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Validator callback stack.");return s.ready.unshift(e)},load:function(){if(!o.default.isDefined("tv4")){var e=(a.default.USE_HTTPS?"https://":"http://")+a.default.SCHEMA_VALIDATOR_SCRIPT_URL;(0,o.default)([e],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",f),tv4.addFormat("numericString",d),s.ready.forEach(function(e){return e()})},error:function(e){throw new Error(i.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}})}}}},function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var e=function(){},t={},n={},r={};function o(e,t){if(e){var o=r[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function i(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,r,o){var i,u,s=document,l=r.async,c=(r.numRetries||0)+1,f=r.before||e,d=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?((u=s.createElement("link")).rel="stylesheet",u.href=d,(i="hideFocus"in u)&&u.relList&&(i=0,u.rel="preload",u.as="style")):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(u=s.createElement("img")).src=d:((u=s.createElement("script")).src=t,u.async=void 0===l||l),u.onload=u.onerror=u.onbeforeload=function(e){var s=e.type[0];if(i)try{u.sheet.cssText.length||(s="e")}catch(e){18!=e.code&&(s="e")}if("e"==s){if((o+=1)<c)return a(t,n,r,o)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";n(t,s,e.defaultPrevented)},!1!==f(t,u)&&s.head.appendChild(u)}function u(e,n,r){var u,s;if(n&&n.trim&&(u=n),s=(u?r:n)||{},u){if(u in t)throw"LoadJS";t[u]=!0}function l(t,n){!function(e,t,n){var r,o,i=(e=e.push?e:[e]).length,u=i,s=[];for(r=function(e,n,r){if("e"==n&&s.push(e),"b"==n){if(!r)return;s.push(e)}--i||t(s)},o=0;o<u;o++)a(e[o],r,n)}(e,function(e){i(s,e),t&&i({success:t,error:n},e),o(u,e)},s)}if(s.returnPromise)return new Promise(l);l()}return u.ready=function(e,t){return function(e,t){var o,i,a,u=[],s=(e=e.push?e:[e]).length,l=s;for(o=function(e,n){n.length&&u.push(e),--l||t(u)};s--;)i=e[s],(a=n[i])?o(i,a):(r[i]=r[i]||[]).push(o)}(e,function(e){i(t,e)}),u},u.done=function(e){o(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(16);var o=f(n(2)),i=f(n(17)),a=f(n(0)),u=f(n(1)),s=f(n(22)),l=f(n(24)),c=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){return o.default.getResource("bus",{})},E=function(){function e(t,n,r,o,i){var f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTenant=t||u.default.mustBeDefined("tenant"),this.instanceID=n||u.default.mustBeDefined("instanceID"),this.deviceGroup=r||u.default.mustBeDefined("deviceGroup"),this.environment=o||u.default.mustBeDefined("environment"),this.queue=new l.default(a.default.EVENTS_BUFFER_SIZE),this.idManager=i,this.dispatchNumber=1,this.actionCounter=0,(new c.default).every(a.default.EVENTS_SENDER_INTERVAL).call(function(){f.queue=f.filterQueue();var e=f.prepareRequest();f.dispatch(e,a.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach(function(e){return f.enqueue(e)})}).call(s.default.applyThrottlingPolicy).start()}return r(e,[{key:"setMaxQueueSize",value:function(e){this.queue=l.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var e=+Date.now()-a.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter(function(t){return t.actionTs>e})}},{key:"prepareRequest",value:function(){var e=this.queue.splice(0,a.default.EVENTS_BULK_SIZE);return this.actionCounter+=e.length,{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,horizonDispatchNumber:this.dispatchNumber,horizonActionCounter:this.actionCounter,horizonEnvironment:this.environment,actions:e}}},{key:"isValidRequest",value:function(e){if(!e||e&&!e.actions)throw new Error(u.default.INVALID_REQUEST);return e.actions.length>0}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=a.default.USE_HTTPS?"https://":"http://",r=this.idManager.getAsKeyValue(),o=r?"?"+r:"",u=""+n+s.default.applyDestinationPolicy()+"/event/"+this.currentTenant+o,l=i.default.get(t);if(!this.isValidRequest(e))return!1;this.dispatchNumber+=1;var c=l(e),f=!1,d=!1;try{f=navigator.sendBeacon(u,c)}catch(e){f=!1}if(!f&&"base64"===t)try{var E=new XMLHttpRequest;E.open("POST",u),E.send(c),d=!0}catch(e){d=!1}return f||d}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(u.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,a.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),e}();t.default={getInstance:function(e,t,n,r){var o=d(),i=e+"-"+t;return o[i]||(o[i]=new E(e,a.default.HORIZON_CLIENT_UUID,t,n,r)),o[i]},reset:function(e,t){e&&0!==e.length||u.default.mustBeDefined("tenant"),t&&0!==t.length||u.default.mustBeDefined("deviceGroup");var n=e+"-"+t;delete d()[n]},getContextBus:d}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){(function(){return"navigator"in this&&"sendBeacon"in this.navigator}).call(this)||("navigator"in this||(this.navigator={}),this.navigator.sendBeacon=function(e,t){var n=this.event&&this.event.type,r="unload"===n||"beforeunload"===n,o="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("POST",e,!r),o.withCredentials=!0,o.setRequestHeader("Accept","*/*"),function(e){return"string"==typeof e}(t)?(o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),o.responseType="text/plain"):function(e){return e instanceof Blob}(t)&&t.type&&o.setRequestHeader("Content-Type",t.type);try{o.send(t)}catch(e){return!1}return!0}.bind(this))}).call("object"===("undefined"==typeof window?"undefined":n(window))?window:{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(18)),o=a(n(21)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u={base64:function(e){var t=new FormData;return t.append("data",r.default.encode(o.default.encode(JSON.stringify(e)))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in u))throw new Error(i.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return u[e]}}},function(e,t,n){(function(e,r){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(i){var a=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);a.global!==a&&a.window;var u=function(e){this.message=e};(u.prototype=new Error).name="InvalidCharacterError";var s=function(e){throw new u(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,f={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,o,i=e.length%3,a="",u=-1,c=e.length-i;++u<c;)t=e.charCodeAt(u)<<16,n=e.charCodeAt(++u)<<8,r=e.charCodeAt(++u),a+=l.charAt((o=t+n+r)>>18&63)+l.charAt(o>>12&63)+l.charAt(o>>6&63)+l.charAt(63&o);return 2==i?(t=e.charCodeAt(u)<<8,n=e.charCodeAt(++u),a+=l.charAt((o=t+n)>>10)+l.charAt(o>>4&63)+l.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(u),a+=l.charAt(o>>2)+l.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(c,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,i="",a=-1;++a<t;)r=l.indexOf(e.charAt(a)),n=o%4?64*n+r:r,o++%4&&(i+=String.fromCharCode(255&n>>(-2*o&6)));return i},version:"0.1.0"};void 0===(o=function(){return f}.call(t,n,t,e))||(e.exports=o)}()}).call(t,n(19)(e),n(20))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){!function(e){var t,n,r,o=String.fromCharCode;function i(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function u(e,t){return o(e>>t&63|128)}function s(e){if(0==(4294967168&e))return o(e);var t="";return 0==(4294965248&e)?t=o(e>>6&31|192):0==(4294901760&e)?(a(e),t=o(e>>12&15|224),t+=u(e,6)):0==(4292870144&e)&&(t=o(e>>18&7|240),t+=u(e,12),t+=u(e,6)),t+=o(63&e|128)}function l(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(){var e,o;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((o=(31&e)<<6|l())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if((o=(15&e)<<12|l()<<6|l())>=2048)return a(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(o=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=i(e),n=t.length,r=-1,o="";++r<n;)o+=s(t[r]);return o},e.decode=function(e){t=i(e),n=t.length,r=0;for(var a,u=[];!1!==(a=c());)u.push(a);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(u)}}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(23)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}t.default={applyThrottlingPolicy:function(e){var t=o.default.EVENTS_SENDER_MIN_INTERVAL,n=o.default.EVENTS_SENDER_MAX_INTERVAL,i=Number(r.default.get("_hzt.interval"))||o.default.EVENTS_SENDER_INTERVAL;i<=n&&i>=t&&e.interval!==i&&e.reschedule(i)},applyDestinationPolicy:function(){return r.default.get("_hzt.host")||o.default.HORIZON_TRACK_HOST}}},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l]));return document.cookie=t+"="+o+s}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var E=c[d].split("="),v=E.slice(1).join("=");this.json||'"'!==v.charAt(0)||(v=v.slice(1,-1));try{var p=E[0].replace(f,decodeURIComponent);if(v=n.read?n.read(v,p):n(v,p)||v.replace(f,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(e){}if(t===p){a=v;break}t||(a[p]=v)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[],this.maxSize=t}return r(e,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(t){return e.fromArray(this._queue.filter(t),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(t,n){var r=new e(n);return t.forEach(function(e){return r.push(e)}),r}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}return r(e,[{key:"tick",value:function(){var e=this;this.callbacks.forEach(function(t){return t(e)})}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(3)),i=l(n(2)),a=l(n(1)),u=l(n(0)),s=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c={STATE_READY:"statusReady",STATE_NOT_READY:"statusNotReady",STATE_LOADING:"statusLoading",STATE_SCHEDULED:"statusScheduled",STATE_ERROR:"statusError"},f=function(){return i.default.getResource("schemas",{data:{}})},d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.state=c.STATE_NOT_READY,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return r(e,[{key:"get",value:function(e,t){var n=e+"-"+t;if(!this.isReady())throw new Error(""+a.default.COMPONENT_NOT_READY);var r=f().data[n];if(!r)throw new Error(a.default.UNSUPPORTED_TYPE+": "+n);return r}},{key:"isReady",value:function(){return this.state===c.STATE_READY}},{key:"retry",value:function(){var e=this;this.state=c.STATE_SCHEDULED,this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=c.STATE_NOT_READY,e.load()},u.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===c.STATE_READY)return e(f().data);if(this.callbacks.onReady.length>u.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(a.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===c.STATE_ERROR?e():this.callbacks.onError.push(e)}},{key:"load",value:function(){var e=this,t=f();if(this.state===c.STATE_NOT_READY){this.state=c.STATE_LOADING,this.callbacks.onLoad.forEach(function(e){return e()});var n=u.default.USE_HTTPS?"https://":"http://";s.default.request("GET",""+n+this.url,function(n){t.data=Object.assign(t.data||{},n),e.state=c.STATE_READY,e.callbacks.onReady.forEach(function(e){return o.default.execAsync(e,t.data)})},function(t){e.state=c.STATE_ERROR,e.callbacks.onError.forEach(function(e){return o.default.execAsync(e,t)}),e.retry()})}}}]),e}();t.default={getInstance:function(e){var t=f();return t.provider||(t.provider=new d(e||u.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return window.cdaaas&&window.cdaaas.SETTINGS?window.cdaaas.SETTINGS[e]:null},o=function(e){return window.utag_data?window.utag_data[e]:null};t.default={getTenant:function(){return r("SITE_ID")||o("ut.profile")||"unknown"},getDeviceGroup:function(){return r("MOBILE_GROUP")||o("platform")||"unknown"}}}])},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t._fallback={CURRENT_HREF:window.location.href,CK:{GENDER_THRESHOLD:.5,INFERENCE_WHITELIST:["g1.globo.com","globoesporte.globo.com","gshow.globo.com"]},NAVEGG_SEGMENTS:{gender:{1:"qou66o7zu",2:"qou60g64u"},age:{1:"qou70fnkq",2:"qou88ccx0",3:"qou9o7c84",4:"qou93ocxx",5:"qovamsdij"},income:{1:"qova7gr2x",2:"qovbar2im",3:"qovbtu8y4"}},shouldUseCKSegments:function(){var e=!1,t=!0,r=!1,o=void 0;try{for(var i,a=n.CK.INFERENCE_WHITELIST[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value,s=!!window.utag_data&&"multi-content"===window.utag_data.tipo_pagina;if(-1!==n.CURRENT_HREF.indexOf(u)&&s){e=!0;break}}}catch(e){r=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw o}}return e},getCKSegments:function(){var e=[];if(!n.shouldUseCKSegments())return e;var t=window.ck&&null!=window.ck.g&&null!=window.ck.g&&window.ck.g>=0?window.ck.g:-1;return t>=n.CK.GENDER_THRESHOLD?e.push(n.NAVEGG_SEGMENTS.gender[1]):t>=0&&e.push(n.NAVEGG_SEGMENTS.gender[2]),e},getNaveggSegments:function(){var e=[];if(window.nvg13574){var t=Object.keys(n.NAVEGG_SEGMENTS),r=[],o=!0,i=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value,c=n.NAVEGG_SEGMENTS[l][window.nvg13574.getSegment(l)];c&&c.length>=1&&r.push(c)}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}e=e.concat(r)}return e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=n(23),i=n(1),a=n(7),u=f(n(8)),s=f(n(25)),l=f(n(0)),c=n(2);function f(e){return e&&e.__esModule?e:{default:e}}t.default={runAnalysis:function(){if(a.utils._random()<=i.settings.analysisRollout()){var e=u.default.newAnalysis({name:"profiling-planeteers-fallback-times-used-"+(0,c.getTenant)()+"-"+l.default.ANALYSIS_INDEX,control:"control",alternative:"used"},{impression:l.default.EVENT_GETSEGMENTS,conversion:l.default.EVENT_USED_FALLBACK}),t=u.default.newAnalysis(r.coverage.EXPERIMENT,{},r.coverage.listeners),n=u.default.newAnalysis(o.execution.EXPERIMENT,{},o.execution.listeners);e.run(),t.run(),n.run()}},runAPIAnalysis:function(){if(a.utils._random()<=i.settings.analysisRollout()){var e=(0,c.getTenant)(),t=l.default.ANALYSIS_INDEX,n=u.default.newAnalysis({name:"profiling-planeteers-misses-getsegments-"+e+"-"+t,control:"control",alternative:"missed"},{impression:l.default.EVENT_GETSEGMENTS,conversion:l.default.EVENT_GETSEGMENTS_MISSES}),r=u.default.newAnalysis({name:"profiling-planeteers-getcontentsegments-"+e+"-"+t,control:"control",alternative:"missed"},{impression:l.default.EVENT_CONTENT_SEGMENTS,conversion:l.default.EVENT_CONTENT_SEGMENTS_MISSES});n.run(),r.run();var o=[];o.push(s.default.newAnalysisEvent("api",l.default.EVENTS.GET_SEGMENTS_MISS)),o.push(s.default.newAnalysisEvent("dmp",l.default.EVENTS.DMP_SEGMENTS_MISS)),o.push(s.default.newAnalysisEvent("plnt",l.default.EVENTS.PLNT_SEGMENTS_MISS)),o.push(s.default.newAnalysisEvent("nvg",l.default.EVENTS.NVG_SEGMENTS_MISS)),o.push(s.default.newAnalysisEvent("ck",l.default.EVENTS.CK_SEGMENTS_MISS)),new s.default.MultiAnalysis("profiling-planeteers-analisys-v2-miss-"+e+"-"+l.default.ANALYSIS_INDEX_V2,o).run();var f=[];f.push(s.default.newAnalysisEvent("plnt",l.default.EVENTS.PLNT_SEGMENTS_IDLE)),f.push(s.default.newAnalysisEvent("nvg",l.default.EVENTS.NVG_SEGMENTS_IDLE)),f.push(s.default.newAnalysisEvent("ck",l.default.EVENTS.CK_SEGMENTS_IDLE)),new s.default.MultiAnalysis("profiling-planeteers-analisys-v2-idle-"+e+"-"+l.default.ANALYSIS_INDEX_V2,f).run()}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.utils={_random:function(){return Math.round(99*Math.random())+1}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=n(4),a=s(n(9)),u=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.experiment=t,this.events=n,this.toolbox=new window.dmp.Toolbox,this.customListener=r||null}return r(e,[{key:"setupListeners",value:function(e){var t=this,n=(0,u.default)();window.addEventListener(this.events.impression,function(){e.impression({experiment:t.experiment.name,alternative:t.experiment.alternative,testId:n})}),window.addEventListener(this.events.conversion,function(){e.conversion({experiment:t.experiment.name,alternative:t.experiment.alternative,testId:n})})}},{key:"createABClient",value:function(){var e=new i.HorizonClient,t=-1!==window.location.href.indexOf(".globoi")?"qa":"prod";return new a.default(t,e)}},{key:"run",value:function(){if(o.settings.isOn("ab_analysis")){var e=this.createABClient();this.customListener?this.customListener(e):this.setupListeners(e)}}}]),e}();t.default={Analysis:l,newAnalysis:function(e,t,n){return new l(e,t,n)},newMissAnalysis:function(e,t,n,r){return new l({name:e+"-"+t+"-"+n,control:"control",alternative:"miss"},{impression:r,conversion:r+"_TRIGGERED"})},newIdleAnalysis:function(e,t,n,r){return new l({name:e+"-"+t+"-"+n,control:"control",alternative:"idle"},{impression:r,conversion:r+"_TRIGGERED"})}}},function(e,t,n){"use strict";(function(e){var n,r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,u){"object"===i(t)&&"object"===i(e)?e.exports=u():(r=[],void 0===(o="function"==typeof(n=u)?n.apply(t,r):n)||(e.exports=o))}(0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}return r(e,[{key:"getParams",value:function(e){var t={skipImpressions:this.isSkippedImpression()};return Object.assign({},t,e)}},{key:"getLocationParams",value:function(){return{drawed:!0,countImpressions:!this.isSkippedImpression()}}},{key:"getHeaders",value:function(){return this.options.extraHeaders||[]}},{key:"getHeader",value:function(e){var t="";return this.getHeaders().forEach(function(n){Object.keys(n).forEach(function(r){e===r&&(t=n[r])})}),t}},{key:"getDict",value:function(){return this.options}},{key:"getTimeout",value:function(){var e=this.options.timeout;return void 0===e&&(e=1e3),e}},{key:"skipImpression",value:function(){return this.options.skipImpressions=!0,this}},{key:"timeout",value:function(e){return this.options.timeout=e,this}},{key:"isFieldSetted",value:function(e){return void 0!==e&&!1!==e}},{key:"isSkippedImpression",value:function(){return this.isFieldSetted(this.options.skipImpressions)}},{key:"addHeader",value:function(e){var t=[];return this.options.hasOwnProperty("extraHeaders")&&(t=this.options.extraHeaders),t.push(e),this.options.extraHeaders=t,this}},{key:"withOriginURL",value:function(t){return new e(this.clone(this.options)).originURL(t)}},{key:"originURL",value:function(e){return this.addHeader({"x-canonical-uri":e}),this}},{key:"getOriginURL",value:function(){return this.getHeader("x-canonical-uri")}},{key:"enableGADebugger",value:function(){return this.options.enableGADebugger=!0,this}},{key:"isEnabledGADebugger",value:function(){return this.isFieldSetted(this.options.enableGADebugger)}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}}],[{key:"validated",value:function(t){if(t instanceof e)return t;if(void 0===t)return new e;throw new TypeError("GloboABOptions não válido")}}]),e}();e.exports=o},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(9),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t}return r(e,[{key:"oneWaySend",value:function(e,t,n,r){this.do("PUT",e,null,t,null,null,n,r)}},{key:"do",value:function(e,t,n,r,i,a){var u=this,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1e3,c="",f=o.interceptParams(t,n);for(var d in f)f.hasOwnProperty(d)&&(c+="&"+d+"="+f[d]);c&&(c="?"+c.substring(1));var E=this.abHost+t+c,v=this.createXHR();v.open(e,E,!0),v.timeout=l,v.onload=function(){v.status>=200&&v.status<400?u.callIfDefined(i,v):u.callIfDefined(a,u.handleError(v,E))},v.onerror=function(e){u.callIfDefined(a,u.handleError(e,E))},v.ontimeout=function(e){u.callIfDefined(a,u.handleError(e,E))},r&&(v.setRequestHeader("Content-Type","application/json;charset=utf-8"),r=JSON.stringify(r)),Array.from(s).forEach(function(e){Object.keys(e).forEach(function(t){v.setRequestHeader(t,e[t])})}),v.send(r)}},{key:"handleError",value:function(e,t){var n={};return n.type=e.type?e.type:"undefined",e.target instanceof XMLHttpRequest&&(e=e.target),e instanceof XMLHttpRequest?(n.status=e.status,n.url=t,n.timeout=e.timeout,n.msg=e.responseText):n.msg=e.toString(),n}},{key:"createXHR",value:function(){var e=new XMLHttpRequest;return e.withCredentials=!0,e}},{key:"callIfDefined",value:function(e,t){e&&e(t)}}]),e}();e.exports=i},function(e,t,n){var r,o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(15),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t,this.request=new o(this.abHost),this.requestWrapper=new i(this.abHost)}return r(e,[{key:"selectedAlternatives",value:function(e,t,n,r){this.request.do("GET","/v2/selected-alternatives",t.getParams({experiments:e}),null,n,r,t.getHeaders(),t.getTimeout())}},{key:"recordMetric",value:function(e,t,n){var r="/v2/tests/"+t.testId+"/"+e,o={experiment:t.experiment,alternative:t.alternative};this.requestWrapper.oneWay(r,o,n.getHeaders(),n.getTimeout())}}]),e}();e.exports=a},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),i=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t||{},this.context=n,this.options=r,this.experiment=this._getStringFromData("experiment"),this.alternative=this._getStringFromData("alternative"),this.testId=this._getStringFromData("testId"),this.properties=this._getPropertiesFromData()}return r(e,[{key:"isValid",value:function(){return"string"==typeof this.experiment&&""!==this.experiment.trim()&&"string"==typeof this.alternative&&""!==this.alternative.trim()&&"string"==typeof this.testId&&""!==this.testId.trim()}},{key:"impression",value:function(e){if(this.isValid()){var t=e||this.options;this._sendMetric("impression",t)}else console.warn("Os dados do exp não são válidos para impressão")}},{key:"conversion",value:function(e){if(this.isValid()){var t=e||this.options;this._sendMetric("conversion",t)}else console.warn("Os dados do exp não são válidos para conversão!")}},{key:"_canProcessEvent",value:function(){return!(this.data&&this.data["extra-info"]&&this.data["extra-info"]["draw-rule"]&&void 0!==this.data["extra-info"]["draw-rule"]["process-event"])||this.data["extra-info"]["draw-rule"]["process-event"]}},{key:"_sendMetric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options;if(this._canProcessEvent()){var n={experiment:this.experiment,alternative:this.alternative,testId:this.testId};this.context.abEndpoint.recordMetric(e,n,t)}else console.warn("Nao será enviado sinais de impressão ou conversão, uma vez que o experimento foi finalizado ou desativado.")}},{key:"_getPropertiesFromData",value:function(){var e={};return(Array.isArray(this.data.properties)?this.data.properties:[]).forEach(function(t){var n=t.key,r=t.value;e[n]=r}),e}},{key:"_getStringFromData",value:function(e){return"string"==typeof this.data[e]?this.data[e]:null}}],[{key:"parseRequest",value:function(t,n,r){var o=JSON.parse(t),i={};for(var a in o.experiments)if(o.experiments.hasOwnProperty(a)){var u=new e(o.experiments[a],n,r);i[a]=u}return i}}]),e}();e.exports=i},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),i=n(3),a=n(4),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.server=t,this.abEndpoint=new i(this.server),this._options=n}return r(e,[{key:"options",value:function(){return this._options}},{key:"impression",value:function(e,t){this._getExperiment(e,t).impression()}},{key:"conversion",value:function(e,t){this._getExperiment(e,t).conversion()}},{key:"choose",value:function(e){return"string"==typeof e&&""!==e.trim()?this._chooseOne(e):Array.isArray(e)&&e.length>0?this._chooseMulti(e):Promise.reject(new TypeError("Para sorteio o experimento precisa ser uma string ou uma lista válida."))}},{key:"_chooseOne",value:function(e){var t=this;return new Promise(function(n,r){t.abEndpoint.selectedAlternatives(e,t.options(),function(r){var o=a.parseRequest(r.responseText,t,t.options())[e];n(o)},function(e){r(e)})})}},{key:"_chooseMulti",value:function(e){var t=this,n=e.join(",");return new Promise(function(e,r){t.abEndpoint.selectedAlternatives(n,t.options(),function(n){var r=a.parseRequest(n.responseText,t,t.options());e(r)},function(e){r(e)})})}},{key:"_getExperiment",value:function(e,t){var n=t||this._options;return void 0!==e&&e.__proto__&&e.__proto__.constructor&&"Experiment"===e.__proto__.constructor.name?(e.options=n,e):new a(e,this,n)}}]),e}();e.exports=u},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(11),i=n(10),a=n(0),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.server=t,this.abEndpoint=new i(this.server),this._options=n}return r(e,[{key:"options",value:function(){return this._options}},{key:"choose",value:function(e){var t=this;return new Promise(function(n,r){t.abEndpoint.selectedDrawedExperiment(e,t.options(),function(e){var r=o.parseRequest(e.responseText,t,t.options());n(r)},function(e){r(e)})})}}]),e}();e.exports=u},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),i=n(12),a=n(13),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.server=t,this._options=n,this.mabEndpoint=new i(this.server)}return r(e,[{key:"options",value:function(){return this._options}},{key:"increment",value:function(e){var t=e.experiment,n=e.arm,r=e.testId,o=e.abAlternative,i=e.arms;new a({experiment:t,arm:n,testId:r,abAlternative:o,arms:void 0===i?[]:i},this,this.options()).increment()}},{key:"reward",value:function(e){var t=e.experiment,n=e.arm,r=e.testId,o=e.abAlternative,i=e.slot,u=void 0===i?0:i;new a({experiment:t,arm:n,testId:r,abAlternative:o},this,this.options()).reward(u,n)}},{key:"choose",value:function(e){var t=this;return new Promise(function(n,r){t.mabEndpoint.getSelectedArm(e,t.options(),function(r){var o=a.parseRequest(r.responseText,e,t,t.options());n(o)},function(e){r(e)})})}}]),e}();e.exports=u},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),i=n(5),a=n(7),u=n(6),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.env=this._getEnv(t),this._options=new o,this.abMain=new i(this._getServer(this.env),this._options)}return r(e,[{key:"createOptions",value:function(){return this._options=new o,this.abMain=new i(this._getServer(this.env),this._options),this._options}},{key:"options",value:function(){return this._options}},{key:"mab",value:function(){return new a(this._getMabServer(this.env),this.options())}},{key:"location",value:function(){return new u(this._getServer(this.env),this.options())}},{key:"impression",value:function(e,t){this.abMain.impression(e,t)}},{key:"conversion",value:function(e,t){this.abMain.conversion(e,t)}},{key:"choose",value:function(e){return this.abMain.choose(e)}},{key:"_getEnv",value:function(e){return"prod"===e||"prod.be"===e||"qa"===e||"qa.be"===e||"local"===e?e:"qa"}},{key:"_getServer",value:function(e){return"local"===this.env?"http://localhost:8888":"prod"===this.env?"https://globo-ab.globo.com":"prod.be"===this.env?"http://be.globo-ab.globoi.com":"qa.be"===this.env?"http://be.globo-ab.qa.globoi.com":"https://globo-ab.qa.globoi.com"}},{key:"_getMabServer",value:function(e){return"local"===this.env?"http://localhost:8888":"prod"===this.env?"https://globo-mab.globo.com":"prod.be"===this.env?"http://be.globo-mab.globoi.com":"qa.be"===this.env?"http://be.globo-mab.qa.globoi.com":"https://globo-mab.qa.globoi.com"}}]),e}();e.exports=s},function(e,t,n){(function(t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getPluginParams",value:function(){var t={},n=["ab-client-context","ab-client-experiment","ab-client-alternative"],r=e.getDocumentLocationSearch().substr(1).split("&");for(var o in r)if(r.hasOwnProperty(o)){var i=r[o].split("=");n.indexOf(i[0])>-1&&(t[i[0]]=i[1])}return t}},{key:"getDocumentLocationSearch",value:function(){return document.location.search}},{key:"isCompatibleWithPlugin",value:function(){return void 0!==t.window}},{key:"interceptParams",value:function(t,n){try{if(e.isCompatibleWithPlugin()&&t){var r=void 0,o=void 0;if(t.indexOf("/location/")>-1){var i=t.split("/");r=i[i.length-1]}else t.indexOf("selected-alternatives")>-1&&(o=n.experiments||n.experiment);if(o||r)return Object.assign({},n,this.getExperimentSettings(r,o))}}catch(e){console.error(e)}return n}},{key:"getExperimentSettings",value:function(e,t){var n=this.getPluginParams();if(e&&n["ab-client-context"]===e&&n["ab-client-experiment"]){var r={experiment:n["ab-client-experiment"],alternative:n["ab-client-alternative"]};return r.alternative||delete r.alternative,r}return t&&t.includes(n["ab-client-experiment"])&&n["ab-client-alternative"]?{alternative:n["ab-client-alternative"]}:{}}}]),e}();e.exports=r}).call(t,n(2))},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),a=n(3),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.abHost=e,n.request=new o(n.abHost),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"selectedDrawedExperiment",value:function(e,t,n,r){this.request.do("GET","/ab/location/"+e,t.getLocationParams(),null,n,r)}}]),t}();e.exports=u},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(4),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"parseRequest",value:function(e,t,n){var r=JSON.parse(e),i=Object.keys(r)[0],a=r[i],u=a.alternative,s=a.testId;return new o({experiment:i,alternative:u,testId:s},t,n)}}]),e}();e.exports=i},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t,this.request=new o(this.abHost)}return r(e,[{key:"getSelectedArm",value:function(e,t,n,r){var o="",i="GET";t.isSkippedImpression()?o="/mab/"+e+"/choose":(o="/mab/"+e+"/chooseAndIncrement",i="POST"),this.request.do(i,o,null,null,n,r,t.getHeaders(),t.getTimeout())}},{key:"recordMABMetric",value:function(e,t,n){var r="/mab/"+t.experiment+"/"+e,o=t.arms?t.arms:[],i={arm:t.arm,testId:t.testId,abAlternative:t.abAlternative,arms:o};this.request.do("POST",r,{},i,null,null,n.getHeaders(),n.getTimeout())}}]),e}();e.exports=i},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0),i=function(){function e(t,n){var r=t.experiment,i=t.arm,a=t.testId,u=t.abAlternative,s=t.arms,l=void 0===s?[]:s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.experiment=r,this.arm=i,this.testId=a,this.abAlternative=u,this.arms=l,this.context=n,this.options=c}return r(e,[{key:"increment",value:function(){var e=this.arms;0===e.length&&(e=[{slot:0,name:this.arm}]),this._sendMetric("increment",e)}},{key:"reward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[{slot:e,name:""===t?this.arm:t}];this._sendMetric("reward",n)}},{key:"_sendMetric",value:function(e,t){var n={experiment:this.experiment,arm:this.arm,testId:this.testId,abAlternative:this.abAlternative,arms:t};this._recordMetric(e,n)}},{key:"_recordMetric",value:function(e,t){this.context.mabEndpoint.recordMABMetric(e,t,this.options)}}],[{key:"parseRequest",value:function(t,n,r,o){var i=JSON.parse(t);return i.experiment=n,new e(i,r,o)}}]),e}();e.exports=i},function(e,t,n){(function(t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t}return n(e,[{key:"send",value:function(e,n){t.navigator.sendBeacon(this.abHost+e,JSON.stringify(n))}}]),e}();e.exports=r}).call(t,n(2))},function(e,t,n){(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(14),i=n(1),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.host=t,this.sendBeaconOneWay=new o(this.host),this.xmlHttp=new i(this.host)}return r(e,[{key:"oneWay",value:function(e,t,n,r){this.isBrowserSupportSendBeacon()&&!this.hasHeaders(n)?this.sendBeaconOneWay.send(e,t):this.xmlHttp.oneWaySend(e,t,n,r)}},{key:"isBrowserSupportSendBeacon",value:function(){return!(void 0===t.navigator||!t.navigator.sendBeacon)}},{key:"hasHeaders",value:function(e){return void 0!==e&&e.length>0}}]),e}();e.exports=a}).call(t,n(2))}])})}).call(this,n(24)(e))},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){n(12),n(26),n(28),n(30),n(34),n(35),n(39)},function(e,t,n){var r=n(13),o=n(14),i=n(15),a=function(e){return e&&e.__esModule?e:{default:e}}(n(6));window.dmp=window.dmp||{},window.dmp.Toolbox=r.Toolbox,window.dmp.listeners=new o.Listeners,window.dmp.api=i.api,a.default.runAPIAnalysis()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;t.Toolbox=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"getScript",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement("script"),o=document.getElementsByTagName("script")[0];r.async=!0,r.onload=r.onreadystatechange=function(e,o){(o||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r=void 0,o||t&&t(n))},r.src=e,o.parentNode.insertBefore(r,o)}},{key:"encodeUrl",value:function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}},{key:"sendPixel",value:function(e){new Image(1,1).src=e}},{key:"getAge",value:function(e){if(void 0===e)return"";var t=e.split(" ").join("");if(""===t)return t;var n=new Date(e);return(new Date).getFullYear()-n.getFullYear()}},{key:"getGloboId",value:function(){if(window.Cadun&&window.Cadun.user&&window.Cadun.user.me&&window.Cadun.user.me.globoId)return window.Cadun.user.me.globoId;var e=window.localStorage.getItem("glbdt_globoid");if(e&&e.match(r))return e;var t=JSON.parse(window.localStorage.getItem("cdUserCodeGlb"));return t&&"cadun"===t.provider&&t.suser_code?t.suser_code:null}},{key:"runIfCadun",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e&&("cadun"===window.Cadun.user.me.provider&&e())}}]),e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Listeners=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initNavegg(),this._initKrux(),this._initGloboId()}return n(e,[{key:"_initNavegg",value:function(){window.naveggReady=window.naveggReady||[]}},{key:"_initKrux",value:function(){this._kruxQueue=[],this._kruxLoaded=!1}},{key:"_initGloboId",value:function(){window.cq=window.cq||[]}}]),n(e,[{key:"kruxLoaded",value:function(){this._kruxQueue.forEach(function(e){e()}),this._kruxLoaded=!0}},{key:"addNavegg",value:function(e){this._initNavegg(),window.naveggReady.push(e)}},{key:"addKrux",value:function(e){this._kruxLoaded?e():this._kruxQueue.push(e)}},{key:"addGloboId",value:function(e){this._initGloboId(),window.cq.push({ready:function(t){t.Event.subscribe("userInfoAvailable",e)}})}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var r=n(16),o=n(17),i=n(1),a=t.api={_version:function(){return i.settings.version()===i.settings.constants.V2?o.v2:r.v1},getSegments:function(){return a._version().getSegments()},getDmpId:function(){return a._version().getDmpId()}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.v1=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o=/(qou66o7zu|qou60g64u)/,i=/(qou70fnkq|qou88ccx0|qou9o7c84|qou93ocxx|qovamsdij)/,a=/(qova7gr2x|qovbar2im|qovbtu8y4)/,u=t.v1={CURRENT_HREF:window.location.href,CK_INFERENCE_WHITELIST:["g1.globo.com","globoesporte.globo.com","gshow.globo.com"],KRUX_SEGMENTS_KEY:"kxglobo_allsegs",KRUX_SEGMENTS_COOKIE:"kxglobo_segs",KRUX_ID_KEY:"kxglobo_user",PLANETEERS_SEGMENTS_KEY:"planeteers_segments",SEGMENT_RULES:{qou66o7zu:o,qou60g64u:o,qou70fnkq:i,qou88ccx0:i,qou9o7c84:i,qou93ocxx:i,qovamsdij:i,qova7gr2x:a,qovbar2im:a,qovbtu8y4:a},NAVEGG_SEGMENTS:{gender:{1:"qou66o7zu",2:"qou60g64u"},age:{1:"qou70fnkq",2:"qou88ccx0",3:"qou9o7c84",4:"qou93ocxx",5:"qovamsdij"},income:{1:"qova7gr2x",2:"qovbar2im",3:"qovbtu8y4"}},CONTENT_SEGMENTS:{threshold:.5},_shouldUseContentSegments:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,i=u.CK_INFERENCE_WHITELIST[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!!window.utag_data&&"multi-content"===window.utag_data.tipo_pagina;if(-1!==u.CURRENT_HREF.indexOf(a)&&s){e=!0;break}}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e},_getFromCookies:function(e){if(window.navigator.cookieEnabled){var t=document.cookie.match(e+"=([^;]*)");if(t)if(t[1].length>1)return unescape(t[1])}return""},_fallback:function(){var e=[];if(window.nvg13574){var t=Object.keys(u.NAVEGG_SEGMENTS),n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=u.NAVEGG_SEGMENTS[l][window.nvg13574.getSegment(l)];c&&c.length>=1&&n.push(c)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}e=e.concat(n)}return 0==e.length&&u._shouldUseContentSegments()&&(e=u._getContentSegments()),e},_processSegments:function(e,t){var n=e,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=u.SEGMENT_RULES[l];(c?!n.match(c):-1===n.indexOf(l))&&(n+=n.length>1?","+l:""+l)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n},_hasOnlyInvalidSegments:function(e){if("string"==typeof e)return""===e||e===r.default.PLANETEERS_EXECUTION_SEGMENT;var t=null===e,n=e&&(0===e.length||1===e.length&&e[0]===r.default.PLANETEERS_EXECUTION_SEGMENT);return t||n},_getKruxSegments:function(){var e=window.localStorage.getItem(u.KRUX_SEGMENTS_KEY);return e||""},_getPlaneteersSegments:function(){var e=window.localStorage.getItem(u.PLANETEERS_SEGMENTS_KEY),t=e?e.split(","):[];return u._hasOnlyInvalidSegments(t)?(window.dispatchEvent(new Event(r.default.EVENT_USED_FALLBACK)),u._fallback().concat(t)):t},_getContentSegments:function(){var e=[],t=window.ck&&null!=window.ck.g&&null!=window.ck.g&&window.ck.g>=0?window.ck.g:-1;return t>=u.CONTENT_SEGMENTS.threshold?e.push(u.NAVEGG_SEGMENTS.gender[1]):t>=0&&e.push(u.NAVEGG_SEGMENTS.gender[2]),0==e.length&&window.dispatchEvent(new Event(r.default.EVENT_CONTENT_SEGMENTS_MISSES)),window.dispatchEvent(new Event(r.default.EVENT_CONTENT_SEGMENTS)),e},getSegments:function(){if(!window.localStorage)return u._getFromCookies(u.KRUX_SEGMENTS_COOKIE);var e=u._processSegments(u._getKruxSegments(),u._getPlaneteersSegments());return u._hasOnlyInvalidSegments(e)&&window.dispatchEvent(new Event(r.default.EVENT_GETSEGMENTS_MISSES)),window.dispatchEvent(new Event(r.default.EVENT_GETSEGMENTS)),e},getDmpId:function(){if(window.Krux&&window.Krux.user&&window.Krux.user.length>0)return window.Krux.user;if(!window.localStorage)return u._getFromCookies(u.KRUX_ID_KEY);var e=window.localStorage.getItem(u.KRUX_ID_KEY);if(e&&e.length>0)return e;var t=u._getFromCookies(u.KRUX_ID_KEY,!0);return t&&t.length>0?t:""}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.v2=void 0;var r=n(18),o=n(19),i=n(5),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var u=t.v2={_notifyMissSource:function(e,t){o._notifier._falsy(e.length,t)},_notifyIdleSource:function(e,t,n){e.length>0&&o._notifier._falsy(t.length,n)},getSegments:function(){var e=r._api.getDMPSegments();u._notifyMissSource(e,a.default.EVENTS.DMP_SEGMENTS_MISS);var t=[{segments:r._api.getPlaneteersSegments(),miss:a.default.EVENTS.PLNT_SEGMENTS_MISS,idle:a.default.EVENTS.PLNT_SEGMENTS_IDLE,marker:a.default.SEGMENT_SOURCES_MARKERS.PLNT},{segments:i._fallback.getNaveggSegments(),miss:a.default.EVENTS.NVG_SEGMENTS_MISS,idle:a.default.EVENTS.NVG_SEGMENTS_IDLE,marker:a.default.SEGMENT_SOURCES_MARKERS.NVG},{segments:i._fallback.getCKSegments(),miss:a.default.EVENTS.CK_SEGMENTS_MISS,idle:a.default.EVENTS.CK_SEGMENTS_IDLE,marker:a.default.SEGMENT_SOURCES_MARKERS.CK}],n=!0,o=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var f=l.value;u._notifyMissSource(f.segments,f.miss);var d=r._api._filterApplicable(e,f.segments);u._notifyIdleSource(f.segments,d,f.idle),e=r._api._applySegments(e,d,f.marker)}}catch(e){o=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw s}}return u._notifyMissSource(e,a.default.EVENTS.GET_SEGMENTS_MISS),r._api._markPlaneteersExecution(e)},getDmpId:function(){var e=r._api.getDMPId();return o._notifier._falsy(e,a.default.EVENTS.DMP_ID_MISS),e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t._api=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o=/(qou66o7zu|qou60g64u)/,i=/(qou70fnkq|qou88ccx0|qou9o7c84|qou93ocxx|qovamsdij)/,a=/(qova7gr2x|qovbar2im|qovbtu8y4)/,u=t._api={SEGMENT_RULES:{qou66o7zu:o,qou60g64u:o,qou70fnkq:i,qou88ccx0:i,qou9o7c84:i,qou93ocxx:i,qovamsdij:i,qova7gr2x:a,qovbar2im:a,qovbtu8y4:a},_isLocalStorageAvailable:function(){return!!window.localStorage},_isDMPUserObjectAvailable:function(){return!!window.Krux&&!!window.Krux.user&&window.Krux.user.length>0},_filterApplicable:function(e,t){return t.filter(function(t){var n=u.SEGMENT_RULES[t];return n?!e.match(n):-1===e.indexOf(t)})},_applySegments:function(e,t,n){var r=e;t.length&&t.push(n);var o=!0,i=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;r+=r.length>1?","+l:""+l}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return r},_markPlaneteersExecution:function(e){return"success"===u._loadFromLocalStorage(r.default.PLANETEERS_EXECUTION_STATUS)?e&&e.length>0?e+","+r.default.SEGMENT_SOURCES_MARKERS.PLNT_EXECUTION:r.default.SEGMENT_SOURCES_MARKERS.PLNT_EXECUTION:e},_loadFromLocalStorage:function(e){if(u._isLocalStorageAvailable()){var t=window.localStorage.getItem(e);return t||""}return""},_loadFromCookies:function(e){if(window.navigator.cookieEnabled){var t=document.cookie.match(e+"=([^;]*)");if(t)if(t[1].length>1)return unescape(t[1])}return""},_getIdFromCookies:function(){return u._loadFromCookies(r.default.KRUX_ID_KEY)},_getIdFromLocalStorage:function(){return u._loadFromLocalStorage(r.default.KRUX_ID_KEY)},_getIdFromDMPObject:function(){return u._isDMPUserObjectAvailable()?window.Krux.user:""},_getSegmentsFromDMPCookie:function(){return u._loadFromCookies(r.default.KRUX_SEGMENTS_COOKIE)},_getSegmentsFromDMPLocalStorage:function(){return u._loadFromLocalStorage(r.default.KRUX_SEGMENTS_KEY)},getDMPId:function(){return u._getIdFromDMPObject()||u._getIdFromLocalStorage()||u._getIdFromCookies()},getDMPSegments:function(){return u._getSegmentsFromDMPLocalStorage()||u._getSegmentsFromDMPCookie()},getPlaneteersSegments:function(){var e=u._loadFromLocalStorage(r.default.PLANETEERS_SEGMENTS_KEY),t=e?e.split(","):[],n=t.indexOf("plntalfa");return n>-1&&t.splice(n,1),t},getNaveggSegments:function(){var e=u._loadFromLocalStorage(r.default.PLANETEERS_FALLBACK_NVG_SEGMENTS_KEY);return e?e.split(","):[]},getCKSegments:function(){var e=u._loadFromLocalStorage(r.default.PLANETEERS_FALLBACK_CK_SEGMENTS_KEY);return e?e.split(","):[]}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t._notifier={constants:{TRIGGED_SUFFIX:"_TRIGGERED"},_notify:function(e){window.dispatchEvent(new Event(e))},_truthy:function(e,t){n._notify(t),e&&n._notify(t+n.constants.TRIGGED_SUFFIX)},_falsy:function(e,t){n._notify(t),e||n._notify(t+n.constants.TRIGGED_SUFFIX)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.coverage=void 0;var r=a(n(0)),o=n(2),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var u=t.coverage={EXPERIMENT:{name:"profiling-planeteers-coverage-"+(0,o.getTenant)()+"-"+r.default.ANALYSIS_INDEX,control:"control",alternative:"planeteers-coverage",planeteers:"planeteers-coverage",krux:"planeteers-krux-coverage"},hasSegments:function(e){var t=window.localStorage.getItem(e);if(t&&t.length>2&&t.split(",").length>1)return!0;return!1},listeners:function(e){window.addEventListener(r.default.EVENT_GETSEGMENTS,function t(){var n=(0,i.default)();e.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.planeteers,testId:n}),u.hasSegments(r.default.PLANETEERS_SEGMENTS_KEY)&&e.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.planeteers,testId:n});var o=(0,i.default)();e.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.krux,testId:o}),u.hasSegments(r.default.PLANETEERS_KRUX_SEGMENTS_KEY)&&e.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.krux,testId:o}),window.removeEventListener(r.default.EVENT_GETSEGMENTS,t)})}}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.execution=void 0;var r=a(n(0)),o=n(2),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var u=t.execution={EXPERIMENT:{name:"profiling-planeteers-execution-"+(0,o.getTenant)()+"-"+r.default.ANALYSIS_INDEX,control:"control",alternative:"executed"},haveExecuted:function(){var e=window.localStorage.getItem(r.default.PLANETEERS_EXECUTION_STATUS);if(e&&"success"===e){var t=window.localStorage.getItem(r.default.PLANETEERS_EXECUTION);if(t&&t.length>2){var n=new Date,o=new Date(t);if(o.getDate()===n.getDate()&&o.getMonth()===n.getMonth()&&o.getYear()===n.getYear())return!0}}return!1},listeners:function(e){window.addEventListener(r.default.EVENT_GETSEGMENTS,function t(){var n=(0,i.default)();e.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.alternative,testId:n}),u.haveExecuted()&&e.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.alternative,testId:n}),window.removeEventListener(r.default.EVENT_GETSEGMENTS,t)})}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(8)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Analysis),r(t,[{key:"setupListeners",value:function(e){var t=this,n=function(n){var r=(0,i.default)();window.addEventListener(n.impression,function(){e.impression({experiment:t.experiment,alternative:n.alternative,testId:r})}),window.addEventListener(n.conversion,function(){e.conversion({experiment:t.experiment,alternative:n.alternative,testId:r})})},r=!0,o=!1,a=void 0;try{for(var u,s=this.events[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){n(u.value)}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}}]),t}();t.default={MultiAnalysis:u,newAnalysisEvent:function(e,t){return{alternative:e,impression:t,conversion:t+"_TRIGGERED"}}}},function(e,t,n){n(27).downloader.run()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.downloader={NOT_ALLOWED_HOSTS:["quicksilver","zapimoveis","globoplay","www.globo.com","gcomevahml-grupoglobo.cs21.force.com","localhost","/politica/eleicoes/2018/","g1.globo.com"],toolbox:new window.dmp.Toolbox,getSrcUrl:function(e){return-1!==e.indexOf(".globoi")?"//s.glbimg.qa.globoi.com/pc/ca/cadun.js":"//s.glbimg.com/pc/ca/cadun.js"},getLocationHref:function(){return window.location.href},shouldGetCadunJs:function(){if(window.Cadun)return!1;var e=!0,t=!1,r=void 0;try{for(var o,i=n.NOT_ALLOWED_HOSTS[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(-1!==n.getLocationHref().indexOf(a))return!1}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}return!0},run:function(){if(n.shouldGetCadunJs()){var e=n.getSrcUrl(n.getLocationHref());n.toolbox.getScript(e,function(){window.dispatchEvent(new Event("CADUN_LOADED"))})}}}},function(e,t,n){var r=n(29);window.dmp.listeners.addGloboId(function(){r.globoIdIntegration.storeCadunInfo()})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=t.globoIdIntegration={LOCALSTORAGE_NOT_SUPPORTED_MESSAGE:"Cadun|Krux Integration: localStorage not supported.",GENDER_DICT:{M:"Male",F:"Female"},LOGGED_IN_PROVIDER:"cadun",toolbox:function(){return new window.dmp.Toolbox},_getGender:function(e){return e?r.GENDER_DICT[e.toUpperCase()]:""},_exportData:function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;window.localStorage.setItem(u,e[u])}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}r._setKruxData()},_setKruxData:function(){var e=n({},JSON.parse(localStorage.getItem("krux_utag")||"{}"),window.utag_data);localStorage.setItem("krux_utag",JSON.stringify(e))},_setGdmpData:function(){var e=void 0!==window.Cadun.user.me.address,t={glbdt_globoid:window.Cadun.user.me.provider!==r.LOGGED_IN_PROVIDER?window.Cadun.user.me.id:window.Cadun.user.me.globoId,gdmp_utype:window.Cadun.user.me.provider,gdmp_gender:r._getGender(window.Cadun.user.me.gender),gdmp_age:r.toolbox().getAge(window.Cadun.user.me.dateOfBirth),gdmp_id_legacy:window.Cadun.user.me.id,gdmp_city:e?window.Cadun.user.me.address.city:"",gdmp_state:e?window.Cadun.user.me.address.state:""};return"cadun"!=t.gdmp_utype&&(t.cadun_id=t.gdmp_id_legacy),t},storeCadunInfo:function(){var e={};try{e=r._setGdmpData()}catch(e){console.log(e)}finally{window.utag_data=n({},window.utag_data,e),"undefined"!=typeof Storage?r._exportData(e):console.log(r.LOCALSTORAGE_NOT_SUPPORTED_MESSAGE)}}}},function(e,t,n){n(31).segmentize.run()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.segmentize=void 0;var r=n(32),o=n(33),i=n(2),a=n(5),u=n(1),s=f(n(6)),l=f(n(0)),c=n(7);function f(e){return e&&e.__esModule?e:{default:e}}var d=t.segmentize={PLANETEERS_KRUX_API_ENDPOINT:"https://cdn.krxd.net/userdata/v2/segments/5007d44e-09d1-49b7-8c99-6b1cc38c3cbc",PLANETEERS_API_ENDPOINT:-1!==window.location.hostname.indexOf(".globoi")?"//planeteers.qa.globoi.com":"//planeteers.globo.com",PLANETEERS_EXECUTION_KEY:"planeteers_execution",PLANETEERS_EXECUTION_STATUS_KEY:"planeteers_execution_status",PLANETEERS_CACHE_KEY:"planeteers_cache",PLANETEERS_CACHE_TTL:144e5,req:r.req,ROLLOUT_CONFIGS:{name:"profiling-planeteers-rollout-"+(0,i.getTenant)()+"-0",skipped:"control"},toolbox:new window.dmp.Toolbox,getSegments:function(e){var t=d.PLANETEERS_API_ENDPOINT+"/segments",n=function(e){var t="Request failure - "+JSON.stringify(e);window.localStorage.setItem(d.PLANETEERS_EXECUTION_STATUS_KEY,t)};return d.req.get(t,{},{200:function(t){e(JSON.parse(t.text).segments),window.localStorage.setItem(d.PLANETEERS_EXECUTION_STATUS_KEY,"success"),d.setCache()},500:n,404:n,400:n},n)},getKruxSegments:function(e){var t=d.PLANETEERS_KRUX_API_ENDPOINT;return d.req.jsonp(t,"krux_",function(t){e(t.body.segments)},function(e){console.error("Request failure for KRUX - "+JSON.stringify(e))})},save:function(e,t){t&&t.length>0&&window.localStorage.setItem(e,t)},setCache:function(){var e=(new Date).getTime();window.localStorage.setItem(d.PLANETEERS_CACHE_KEY,e+d.PLANETEERS_CACHE_TTL)},shouldUpdateCache:function(){return c.utils._random()<=u.settings.cacheUpdateRollout()},cacheExpired:function(){var e=window.localStorage.getItem(d.PLANETEERS_CACHE_KEY);return!e||parseInt(e)<=(new Date).getTime()&&d.shouldUpdateCache()},mark:function(){window.localStorage.setItem(d.PLANETEERS_EXECUTION_KEY,(new Date).toISOString())},execute:function(){d.mark(),d.save(l.default.PLANETEERS_FALLBACK_NVG_SEGMENTS_KEY,a._fallback.getNaveggSegments()),d.save(l.default.PLANETEERS_FALLBACK_CK_SEGMENTS_KEY,a._fallback.getCKSegments()),d.cacheExpired()&&d.getSegments(function(e){d.save(l.default.PLANETEERS_SEGMENTS_KEY,e)}),d.getKruxSegments(function(e){d.save(l.default.PLANETEERS_KRUX_SEGMENTS_KEY,e)}),s.default.runAnalysis()},run:function(){u.settings.isOn("rollout")&&o.rollout.execute(d.ROLLOUT_CONFIGS,d.execute)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.req={STATUS_CODE:{success:200,notFound:404,internalServerError:500},MESSAGE:{noCallbackError:"Request callback not set.",noPostDataError:"POST Request data not set."},jsonp:function(e,t,n,r){var o=t+"jsonp_callback_"+Math.round(1e5*Math.random());window[o]=function(e){delete window[o],document.body.removeChild(i),n(e)},r||(r=function(t){throw new Error(t+" - url: "+e)});var i=document.createElement("script");i.onerror=function(e){i.onerror=null,r(e)},i.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(i)},get:function(e,t,r,o){r?n._request(e,"GET",t,r,o):console.error(n.MESSAGE.noCallbackError)},post:function(e,t,r,o,i){o?r?n._request(e,"POST",t,o,i,r):console.error(n.MESSAGE.noPostDataError):console.error(n.MESSAGE.noCallbackError)},_request:function(e,t,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=new XMLHttpRequest;u.open(t,e),u.timeout=1e3,u.withCredentials=!0;var s=!0,l=!1,c=void 0;try{for(var f,d=Object.keys(r)[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var E=f.value;u.setRequestHeader(E,r[E])}}catch(e){l=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}u.onreadystatechange=function(){if(u&&u.readyState===u.DONE){var e=!0,t=!1,r=void 0;try{for(var i,a=Object.keys(n.STATUS_CODE)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value,l=n.STATUS_CODE[s];o[l]&&u.status==l&&o[l]({text:u.responseText,statusCode:u.status,responseHeaders:u.responseHeaders})}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}u=null}},i||(i=function(t){throw new Error(t+" - url: "+e)});var v=function(e){return function(){i(e),u=null}};u.onabort=v("Request aborted."),u.ontimeout=v("Request timed out after "+u.timeout+"ms."),u.onerror=v("Network error."),u.send(a)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rollout=t.DEFAULT_ERROR_CALLBACK=void 0;var r=n(1),o=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(9));var a=t.DEFAULT_ERROR_CALLBACK=function(e){console.error(e)},u=t.rollout={createABClient:function(){var e=new o.HorizonClient,t=-1!==window.location.href.indexOf(".globoi")?"qa":"prod";return new i.default(t,e)},skip:function(e,t,n){e!==t&&n()},_executeAB:function(e,t,n){var r=u.createABClient(),o=r.createOptions().skipImpression(),i=r.choose(e.name,o);return i.then(function(n){u.skip(n.alternative,e.skipped,t)}),i.catch(function(t){return n(t),e.skipped}),i},execute:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(r.settings.isOn("ab"))return u._executeAB(e,t,n);t()}}},function(e,t){function n(e){var t,n="kxglobo_"+e;return window.localStorage?window.localStorage[n]||"":navigator.cookieEnabled&&(t=document.cookie.match(n+"=([^;]*)"))&&unescape(t[1])||""}window.Krux||((window.Krux=function(){Krux.q.push(arguments)}).q=[]),window.Krux.user=n("user"),window.Krux.segments=n("segs")&&n("segs").split(",")||[],window.dmp.listeners.kruxLoaded()},function(e,t,n){var r=function(e){return e&&e.__esModule?e:{default:e}}(n(36));window.dmp.listeners.addGloboId(function(){(0,r.default)()})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(37));var i=function(e){var t=new window.dmp.Toolbox,n=r({},{prtid:13574},e),o="//cd.navdmp.com/cd?"+t.encodeUrl(n);t.sendPixel(o)};t.default=function(){var e=1===parseInt(window.localStorage.getItem("naveggOnboarded")),t=1===parseInt(window.localStorage.getItem("naveggAnonOnboarded")),n="cadun"!==Cadun.user.me.provider;n&&!t?(i({prtusridr:(0,o.default)(Cadun.user.me.id)}),window.localStorage.setItem("naveggAnonOnboarded",1)):n||e||(i({prtusridf:(0,o.default)(Cadun.user.me.globoId)}),window.localStorage.setItem("naveggOnboarded",1))}},function(e,t,n){!function(){var t=n(38),r=n(10).utf8,o=n(10).bin,i=function(e,n){var i=t.wordsToBytes(function(e){e.constructor==String?e=r.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var n=t.bytesToWords(e),o=8*e.length,i=[],a=1732584193,u=-271733879,s=-1732584194,l=271733878,c=-1009589776;n[o>>5]|=128<<24-o%32,n[15+(o+64>>>9<<4)]=o;for(var f=0;f<n.length;f+=16){for(var d=a,E=u,v=s,p=l,_=c,h=0;h<80;h++){if(h<16)i[h]=n[f+h];else{var g=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=g<<1|g>>>31}var y=(a<<5|a>>>27)+c+(i[h]>>>0)+(h<20?1518500249+(u&s|~u&l):h<40?1859775393+(u^s^l):h<60?(u&s|u&l|s&l)-1894007588:(u^s^l)-899497514);c=l,l=s,s=u<<30|u>>>2,u=a,a=y}a+=d,u+=E,s+=v,l+=p,c+=_}return[a,u,s,l,c]}(e));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):t.bytesToHex(i)};i._blocksize=16,i._digestsize=20,e.exports=i}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n}()},function(e,t,n){var r=a(n(40)),o=a(n(41)),i=n(4);function a(e){return e&&e.__esModule?e:{default:e}}if(!(-1!==window.location.hostname.indexOf("localhost"))){var u=new i.HorizonClient;(0,r.default)(function(){return(0,o.default)(u)}),window.addEventListener("beforeunload",function(){u.unload()})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){window.dmp.listeners.addGloboId(function(){window.dmp.listeners.addKrux(function(){window.dmp.listeners.addNavegg(function(){e()})})})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(42)),o=u(n(43)),i=u(n(44)),a=n(4);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){(0,i.default)()&&(-1!==window.location.hostname.indexOf(".globoi")&&a.Settings.useQAConfiguration(),e.send({id:"pes-sync-id",contentType:"pes",version:"1.0",properties:(0,r.default)()}),(0,o.default)())}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e={};return e.naveggId=window.nvg13574&&window.nvg13574.userId?window.nvg13574.userId:"",e.kruxId=window.Krux&&window.Krux.user?window.Krux.user:"",e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){window.localStorage.setItem("sync_ids_persistence",JSON.stringify({sent:"ok",expireIn:(new Date).getTime()+864e5}))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(new Date).getTime(),t=window.localStorage.getItem("sync_ids_persistence");if(null!==t){var n=JSON.parse(t);return console.log(n,e),n.expireIn<e}return!0}}]);